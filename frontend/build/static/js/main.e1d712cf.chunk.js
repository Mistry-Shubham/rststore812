(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{146:function(e,t,r){"use strict";r.r(t);var c=r(36),n=r(6),s=r(18),a=r(48),i=r(85),o=r(84),d=r(16),l="PRODUCT_LIST_REQUEST",j="PRODUCT_LIST_SUCCESS",u="PRODUCT_LIST_FAIL",b="PRODUCT_DETAILS_REQUEST",p="PRODUCT_DETAILS_SUCCESS",h="PRODUCT_DETAILS_FAIL",O="PRODUCT_DELETE_REQUEST",x="PRODUCT_DELETE_SUCCESS",f="PRODUCT_DELETE_FAIL",g="PRODUCT_CREATE_REQUEST",m="PRODUCT_CREATE_SUCCESS",y="PRODUCT_CREATE_FAIL",v="PRODUCT_CREATE_RESET",S="PRODUCT_UPDATE_REQUEST",E="PRODUCT_UPDATE_SUCCESS",C="PRODUCT_UPDATE_FAIL",I="PRODUCT_UPDATE_RESET",w="PRODUCT_CREATE_REVIEW_REQUEST",R="PRODUCT_CREATE_REVIEW_SUCCESS",_="PRODUCT_CREATE_REVIEW_FAIL",A="PRODUCT_CREATE_REVIEW_RESET",T=r(44),D="CART_ADD_ITEM",P="CART_REMOVE_ITEM",L="CART_SAVE_SHIPPING_ADDRESS",U="CART_SAVE_PAYMENT_METHOD",k="USER_LOGIN_REQUEST",z="USER_LOGIN_SUCCESS",W="USER_LOGIN_FAIL",F="USER_LOGOUT",B="USER_REGISTER_REQUEST",M="USER_REGISTER_SUCCESS",N="USER_REGISTER_FAIL",q="USER_DETAILS_REQUEST",Q="USER_DETAILS_SUCCESS",G="USER_DETAILS_FAIL",V="USER_DETAILS_RESET",Y="USER_UPDATE_PROFILE_REQUEST",J="USER_UPDATE_PROFILE_SUCCESS",H="USER_UPDATE_PROFILE_FAIL",K="USER_UPDATE_PROFILE_RESET",X="USER_LIST_REQUEST",Z="USER_LIST_SUCCESS",$="USER_LIST_FAIL",ee="USER_LIST_RESET",te="USER_DELETE_REQUEST",re="USER_DELETE_SUCCESS",ce="USER_DELETE_FAIL",ne="USER_UPDATE_REQUEST",se="USER_UPDATE_SUCCESS",ae="USER_UPDATE_FAIL",ie="USER_UPDATE_RESET",oe="ORDER_CREATE_REQUEST",de="ORDER_CREATE_SUCCESS",le="ORDER_CREATE_FAIL",je="ORDER_DETAILS_REQUEST",ue="ORDER_DETAILS_SUCCESS",be="ORDER_DETAILS_FAIL",pe="ORDER_PAY_REQUEST",he="ORDER_PAY_SUCCESS",Oe="ORDER_PAY_FAIL",xe="ORDER_PAY_RESET",fe="ORDER_MY_LIST_REQUEST",ge="ORDER_MY_LIST_SUCCESS",me="ORDER_MY_LIST_FAIL",ye="ORDER_MY_LIST_RESET",ve="ORDER_LIST_REQUEST",Se="ORDER_LIST_SUCCESS",Ee="ORDER_LIST_FAIL",Ce="ORDER_DELIVER_REQUEST",Ie="ORDER_DELIVER_SUCCESS",we="ORDER_DELIVER_FAIL",Re="ORDER_DELIVER_RESET",_e=Object(a.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return{loading:!0,products:[]};case j:return{loading:!1,products:t.payload};case u:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case p:return{loading:!1,product:t.payload};case h:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case x:return{loading:!1,success:!0};case f:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{loading:!0};case m:return{loading:!1,success:!0,product:t.payload};case y:return{loading:!1,error:t.payload};case v:return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case E:return{loading:!1,success:!0,product:t.payload};case C:return{loading:!1,error:t.payload};case I:return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{loading:!0};case R:return{loading:!1,success:!0};case _:return{loading:!1,error:t.payload};case A:return{};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:var r=t.payload,c=e.cartItems.find((function(e){return e.product===r.product}));return c?Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===c.product?r:e}))}):Object(d.a)(Object(d.a)({},e),{},{cartItems:[].concat(Object(T.a)(e.cartItems),[r])});case P:return Object(d.a)(Object(d.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case L:return Object(d.a)(Object(d.a)({},e),{},{shippingAddress:t.payload});case U:return Object(d.a)(Object(d.a)({},e),{},{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case z:return{loading:!1,userInfo:t.payload};case W:return{loading:!1,error:t.payload};case F:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return{loading:!0};case M:return{loading:!1,userInfo:t.payload};case N:return{loading:!1,error:t.payload};case F:return{};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case Q:return{loading:!1,user:t.payload};case G:return{loading:!1,error:t.payload};case V:return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case J:return{loading:!1,user:t.payload,success:!0};case H:return{loading:!1,error:t.payload};case K:return{user:{}};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case Z:return{loading:!1,users:t.payload};case $:return{loading:!1,error:t.payload};case ee:return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case re:return{loading:!1,success:!0};case ce:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return{loading:!0};case se:return{loading:!1,success:!0,user:t.payload};case ae:return{loading:!1,error:t.payload};case ie:return{user:{}};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case de:return{loading:!1,success:!0,order:t.payload};case le:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case je:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case ue:return{loading:!1,order:t.payload};case be:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case pe:return Object(d.a)(Object(d.a)({},e),{},{loading:!0});case he:return{loading:!1,success:!0};case Oe:return{loading:!1,error:t.payload};case xe:return{};default:return e}},orderMyList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return{loading:!0};case ge:return{loading:!1,orders:t.payload};case me:return{loading:!1,error:t.payload};case ye:return{orders:[]};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ve:return{loading:!0};case Se:return{loading:!1,orders:t.payload};case Ee:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ce:return{loading:!0};case Ie:return{loading:!1,success:!0};case we:return{loading:!1,error:t.payload};case Re:return{};default:return e}}}),Ae=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Te=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,De={cart:{cartItems:Ae,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Te}},Pe=[i.a],Le=Object(a.createStore)(_e,De,Object(o.composeWithDevTools)(a.applyMiddleware.apply(void 0,Pe))),Ue=r(71),ke=r(10),ze=r(14),We=r(7),Fe=r(1),Be=r(32),Me=r(82),Ne=r(72),qe=r(56),Qe=r(13),Ge=r(8),Ve=r.n(Ge),Ye=r(15),Je=r(17),He=r.n(Je),Ke=function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a,i,o;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:q}),n=c(),s=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.get("/api/users/".concat(e),a);case 6:i=t.sent,o=i.data,r({type:Q,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:G,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()},Xe=r(2),Ze=function(e){var t=e.children,r=e.url;return Object(Xe.jsx)(Ue.g,{as:ke.b,to:r,mt:{base:4,md:0},fontSize:"sm",letterSpacing:"wide",color:"whiteAlpha.600",fontWeight:"bold",textTransform:"uppercase",mr:"5",display:"block",_hover:{color:"whiteAlpha.800"},children:t})},$e=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(Fe.useState)(!1),c=Object(We.a)(r,2),s=c[0],a=c[1],i=Object(n.c)((function(e){return e.userLogin})).userInfo;return Object(Xe.jsxs)(Ue.c,{as:"header",align:"center",justify:"space-between",wrap:"wrap",py:"6",px:"6",bgColor:"gray.800",w:"100%",top:"0",zIndex:"2",pos:"fixed",children:[Object(Xe.jsx)(Ue.c,{align:"center",mr:"5",children:Object(Xe.jsx)(Ue.f,{as:"h1",color:"whiteAlpha.800",fontWeight:"bold",size:"md",letterSpacing:"md",children:Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/",_hover:{color:"gray.500",textDecor:"none"},children:"RST Store"})})}),Object(Xe.jsxs)(Ue.a,{display:{base:"block",md:"none",sm:"block"},onClick:function(){return a(!s)},children:[Object(Xe.jsx)(Be.a,{as:qe.a,color:"white",w:"6",h:"6"}),Object(Xe.jsx)("title",{children:"Menu"})]}),Object(Xe.jsxs)(Ue.a,{display:{base:s?"block":"none",md:"flex"},width:{base:"full",md:"auto"},alignItems:"center",children:[Object(Xe.jsx)(Ze,{url:"/cart",children:Object(Xe.jsxs)(Ue.c,{alignItems:"center",children:[Object(Xe.jsx)(Be.a,{as:qe.b,w:"4",h:"4",mr:"1"}),"Cart"]})}),i?Object(Xe.jsxs)(Me.a,{children:[Object(Xe.jsx)(Me.b,{as:Ne.a,rightIcon:Object(Xe.jsx)(Qe.d,{}),_hover:{textDecoration:"none",opacity:"0.7"},children:i.name}),Object(Xe.jsxs)(Me.d,{url:"/login",children:[Object(Xe.jsx)(Me.c,{as:ke.b,to:"/profile",children:"Profile"}),Object(Xe.jsx)(Me.c,{onClick:function(){e(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("userInfo"),t({type:F}),t({type:V}),t({type:ye}),t({type:ee});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),t("/login")},children:"Logout"})]})]}):Object(Xe.jsx)(Ze,{url:"/login",children:Object(Xe.jsxs)(Ue.c,{alignItems:"center",children:[Object(Xe.jsx)(Be.a,{as:qe.c,w:"4",h:"4",mr:"1"}),"Login"]})}),i&&i.isAdmin&&Object(Xe.jsxs)(Me.a,{children:[Object(Xe.jsxs)(Me.b,{ml:"5",color:"white",fontSize:"sm",fontWeight:"semibold",as:Ue.g,textTransform:"uppercase",_hover:{textDecoration:"none",opacity:"0.7"},children:["Manage ",Object(Xe.jsx)(Be.a,{as:Qe.d})]}),Object(Xe.jsxs)(Me.d,{children:[Object(Xe.jsx)(Me.c,{as:ke.b,to:"/admin/userlist",children:"All Users"}),Object(Xe.jsx)(Me.c,{as:ke.b,to:"/admin/productlist",children:"All Products"}),Object(Xe.jsx)(Me.c,{as:ke.b,to:"/admin/orderlist",children:"All Orders"})]})]})]})]})},et=function(){return Object(Xe.jsx)(Ue.c,{as:"footer",justifyContent:"center",py:"5",children:Object(Xe.jsx)(Ue.i,{children:"Copyright 2021. RST Store. All Rights Reserved."})})},tt=function(){return function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){var r,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:l}),e.next=4,He.a.get("/api/products");case 4:r=e.sent,c=r.data,t({type:j,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:u,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},rt=function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r){var c,n;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log("I RAN!"),r({type:b}),t.next=5,He.a.get("/api/products/".concat(e));case 5:c=t.sent,n=c.data,r({type:p,payload:n}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),r({type:h,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},ct=r(73),nt=function(e){var t=e.value,r=e.text,c=e.color,n=void 0===c?"red.500":c;return Object(Xe.jsxs)(Ue.c,{alignItems:"flex-start",children:[Object(Xe.jsxs)(Ue.a,{mr:"2",children:[Object(Xe.jsx)(Be.a,{color:n,as:t>=1?Qe.g:t>=.5?Qe.h:Qe.i}),Object(Xe.jsx)(Be.a,{color:n,as:t>=2?Qe.g:t>=1.5?Qe.h:Qe.i}),Object(Xe.jsx)(Be.a,{color:n,as:t>=3?Qe.g:t>=2.5?Qe.h:Qe.i}),Object(Xe.jsx)(Be.a,{color:n,as:t>=4?Qe.g:t>=3.5?Qe.h:Qe.i}),Object(Xe.jsx)(Be.a,{color:n,as:t>=5?Qe.g:t>=4.5?Qe.h:Qe.i})]}),Object(Xe.jsx)(Ue.i,{children:r&&r})]})},st=function(e){var t=e.product;return Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/product/".concat(t._id),_hover:{textDecor:"none"},children:Object(Xe.jsxs)(Ue.a,{maxW:"sm",borderRadius:"lg",overflow:"hidden",bgColor:"white",transition:"all",_hover:{shadow:"md"},children:[Object(Xe.jsx)(ct.a,{src:t.image,alt:t.name,minH:"360px",objectFit:"cover"}),Object(Xe.jsxs)(Ue.c,{py:"5",px:"4",direction:"column",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.f,{as:"h4",fontSize:"lg",mb:"3",children:t.name}),Object(Xe.jsxs)(Ue.c,{alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(nt,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"yellow.500"}),Object(Xe.jsxs)(Ue.i,{fontSize:"2xl",fontWeight:"bold",color:"blue.600",children:["\u20b9",t.price]})]})]})]})})},at=r(74),it=function(e){var t=e.type,r=void 0===t?"info":t,c=e.children;return Object(Xe.jsxs)(at.a,{status:r,children:[Object(Xe.jsx)(at.b,{}),Object(Xe.jsx)(at.c,{children:c})]})},ot=r(52),dt=function(){return Object(Xe.jsx)(Ue.c,{alignItems:"center",justifyContent:"center",children:Object(Xe.jsx)(ot.a,{thickness:"4px",speed:"0.65s",emptyColor:"gray.200",color:"blue.500",size:"xl",label:"Loading..."})})},lt=function(){var e=Object(n.b)(),t=Object(n.c)((function(e){return e.productList})),r=t.loading,c=t.products,s=t.error;return Object(Fe.useEffect)((function(){e(tt())}),[e]),Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ue.f,{as:"h2",mb:"8",fontSize:"3xl",children:"Latest Products"}),r?Object(Xe.jsx)(dt,{}):s?Object(Xe.jsx)(it,{type:"error",children:s}):Object(Xe.jsx)(Ue.d,{templateColumns:"repeat(4, 1fr)",gap:"8",children:c.map((function(e){return Object(Xe.jsx)(st,{product:e},e._id)}))})]})},jt=r(75),ut=r(31),bt=r(76),pt=function(){var e=Object(Fe.useState)(1),t=Object(We.a)(e,2),r=t[0],c=t[1],s=Object(Fe.useState)(0),a=Object(We.a)(s,2),i=a[0],o=a[1],d=Object(Fe.useState)(""),l=Object(We.a)(d,2),j=l[0],u=l[1],b=Object(n.b)(),p=Object(ze.f)(),h=Object(ze.g)().id,O=Object(n.c)((function(e){return e.productDetails})),x=O.loading,f=O.product,g=O.error,m=Object(n.c)((function(e){return e.userLogin})).userInfo,y=Object(n.c)((function(e){return e.productReviewCreate})),v=y.success,S=y.error;Object(Fe.useEffect)((function(){v&&(alert("Review submitted"),o(0),u(""),b({type:A})),b(rt(h))}),[b,h,v]);return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ue.c,{mb:"5",children:Object(Xe.jsx)(Ne.a,{as:ke.b,to:"/",colorScheme:"gray",children:"Go Back"})}),x?Object(Xe.jsx)(dt,{}):g?Object(Xe.jsx)(it,{type:"error",children:g}):Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)(Ue.d,{templateColumns:"5fr 4fr 3fr",gap:"10",children:[Object(Xe.jsx)(ct.a,{src:f.image,alt:f.name,borderRadius:"md"}),Object(Xe.jsxs)(Ue.c,{direction:"column",children:[Object(Xe.jsx)(Ue.f,{as:"h6",fontSize:"base",color:"gray.500",children:f.brand}),Object(Xe.jsx)(Ue.f,{as:"h2",fontSize:"4xl",mb:"2",children:f.name}),Object(Xe.jsx)(nt,{value:f.rating,text:"".concat(f.numReviews," reviews")}),Object(Xe.jsxs)(Ue.f,{as:"h5",my:"5",fontSize:"4xl",fontWeight:"bold",color:"teal.600",children:["\u20b9",f.price]}),Object(Xe.jsx)(Ue.i,{children:f.description})]}),Object(Xe.jsxs)(Ue.c,{direction:"column",children:[Object(Xe.jsxs)(Ue.c,{justifyContent:"space-between",py:"2",children:[Object(Xe.jsx)(Ue.i,{children:"Price:"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",children:["\u20b9",f.price]})]}),Object(Xe.jsxs)(Ue.c,{justifyContent:"space-between",py:"2",children:[Object(Xe.jsx)(Ue.i,{children:"Status:"}),Object(Xe.jsx)(Ue.i,{fontWeight:"bold",children:f.countInStock>0?"In Stock":"Not Available"})]}),Object(Xe.jsx)(Ue.b,{}),f.countInStock>0&&Object(Xe.jsxs)(Ue.c,{justifyContent:"space-between",py:"2",children:[Object(Xe.jsx)(Ue.i,{children:"Qty:"}),Object(Xe.jsx)(jt.a,{value:r,onChange:function(e){return c(e.target.value)},width:"30%",children:Object(T.a)(Array(f.countInStock).keys()).map((function(e){return Object(Xe.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(Xe.jsx)(Ne.a,{bgColor:"gray.800",textTransform:"uppercase",letterSpacing:"wide",colorScheme:"teal",my:"2",disabled:0===f.countInStock,onClick:function(){p("/cart/".concat(h,"?qty=").concat(r))},children:"Add to Cart"})]})]}),Object(Xe.jsx)(Ue.a,{mt:"10",children:Object(Xe.jsxs)(Ue.a,{children:[Object(Xe.jsx)(Ue.f,{as:"h2",size:"xl",mb:"4",children:"Reviews"}),0===f.reviews.length&&Object(Xe.jsx)(it,{children:"No Reviews"}),Object(Xe.jsx)(Ue.a,{p:"4",bgColor:"white",rounded:"md",mb:"1",children:f.reviews.map((function(e){return Object(Xe.jsxs)(Ue.c,{direction:"column",mb:"5",children:[Object(Xe.jsxs)(Ue.c,{justifyContent:"space-between",children:[Object(Xe.jsxs)(Ue.i,{fontSize:"lg",children:[Object(Xe.jsx)("strong",{children:e.name})," on"," ",e.createdAt.substring(0,10)]}),Object(Xe.jsx)(nt,{value:e.rating})]}),Object(Xe.jsx)(Ue.i,{mt:"2",children:e.comment})]},e._id)}))}),Object(Xe.jsxs)(Ue.a,{p:"10",bgColor:"white",rounded:"md",mt:"10",border:"2px",borderColor:"gray.300",children:[Object(Xe.jsx)(Ue.f,{as:"h3",size:"lg",mb:"6",children:"Write a review"}),S&&Object(Xe.jsx)(it,{type:"error",children:S}),m?Object(Xe.jsxs)("form",{onSubmit:function(e){var t,r;e.preventDefault(),b((t=h,r={rating:i,comment:j},function(){var e=Object(Ye.a)(Ve.a.mark((function e(c,n){var s,a,i;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:w}),s=n(),a=s.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},e.next=6,He.a.post("/api/products/".concat(t,"/reviews"),r,i);case 6:c({type:R}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),c({type:_,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r){return e.apply(this,arguments)}}()))},children:[Object(Xe.jsxs)(ut.a,{id:"rating",mb:"3",children:[Object(Xe.jsx)(ut.b,{children:"Rating"}),Object(Xe.jsxs)(jt.a,{placeholder:"Select option",value:i,onChange:function(e){return o(e.target.value)},children:[Object(Xe.jsx)("option",{children:"Select..."}),Object(Xe.jsx)("option",{value:"1",children:"1 - Poor"}),Object(Xe.jsx)("option",{value:"2",children:"2 - Okay"}),Object(Xe.jsx)("option",{value:"3",children:"3 - Good"}),Object(Xe.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(Xe.jsx)("option",{value:"5",children:"5 - Execellent"})]})]}),Object(Xe.jsxs)(ut.a,{id:"comment",mb:"3",children:[Object(Xe.jsx)(ut.b,{children:"Comment"}),Object(Xe.jsx)(bt.a,{value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Xe.jsx)(Ne.a,{colorScheme:"teal",type:"submit",children:"Post Review"})]}):Object(Xe.jsxs)(it,{children:["Please"," ",Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/login",children:"login"})," ","to write a review"]})]})]})})]})]})},ht=function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(c,n){var s,a;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,He.a.get("/api/products/".concat(e));case 2:s=r.sent,a=s.data,c({type:D,payload:{product:a._id,name:a.name,image:a.image,price:a.price,countInStock:a.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems));case 6:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},Ot=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(ke.c)(),c=Object(We.a)(r,1)[0],s=Object(ze.g)().id,a=c.get("qty"),i=Object(n.c)((function(e){return e.cart})).cartItems;Object(Fe.useEffect)((function(){s&&e(ht(s,a))}),[e,s,a]);var o=function(t){e(function(e){return function(t,r){t({type:P,payload:e}),localStorage.removeItem("cartItems",JSON.stringify(r().cartItems))}}(t))};return Object(Xe.jsx)(Ue.d,{gridTemplateColumns:"3",children:Object(Xe.jsxs)(Ue.a,{children:[Object(Xe.jsx)(Ue.f,{mb:"8",children:"Shopping Cart"}),Object(Xe.jsx)(Ue.c,{children:0===i.length?Object(Xe.jsxs)(it,{children:["You cart is empty."," ",Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/",children:"Go Back"})]}):Object(Xe.jsxs)(Ue.d,{templateColumns:"4fr 2fr",gap:"10",w:"full",children:[Object(Xe.jsx)(Ue.c,{direction:"column",children:i.map((function(t){return Object(Xe.jsxs)(Ue.d,{size:"100%",alignItems:"center",justifyContent:"space-between",borderBottom:"1px",borderColor:"gray.200",py:"4",px:"2",rounded:"lg",templateColumns:"1fr 4fr 2fr 2fr 1fr",_hover:{bgColor:"gray.50"},children:[Object(Xe.jsx)(ct.a,{src:t.image,alt:t.name,borderRadius:"lg",height:"14",width:"14",objectFit:"cover"}),Object(Xe.jsx)(Ue.i,{fontWeight:"semibold",fontSize:"lg",children:Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/products/".concat(t.product),children:t.name})}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"lg",children:["\u20b9",t.price]}),Object(Xe.jsx)(jt.a,{value:t.qty,width:"20",onChange:function(r){return e(ht(t.product,+r.target.value))},children:Object(T.a)(Array(t.countInStock).keys()).map((function(e){return Object(Xe.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(Xe.jsx)(Ne.a,{type:"button",colorScheme:"red",onClick:function(){return o(t.product)},children:Object(Xe.jsx)(Be.a,{as:Qe.j})})]},t.product)}))}),Object(Xe.jsx)(Ue.c,{direction:"column",border:"1px",borderWidth:"2",borderColor:"gray.200",rounded:"md",padding:"5",height:"48",justifyContent:"space-between",children:Object(Xe.jsxs)(Ue.c,{direction:"column",children:[Object(Xe.jsxs)(Ue.f,{as:"h2",fontSize:"2xl",mb:"2",children:["Subtotal (",i.reduce((function(e,t){return e+(+t.qty||1)}),0),") items"]}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"2xl",color:"blue.600",mb:"4",children:["\u20b9",i.reduce((function(e,t){return e+(t.qty||1)*t.price}),0)]}),Object(Xe.jsx)(Ne.a,{type:"button",disabled:0===i.length,size:"lg",colorScheme:"teal",bgColor:"gray.800",onClick:function(){t("/login?redirect=shipping")},children:"Proceed to Checkout"})]})})]})})]})})},xt=r(77),ft=function(e){var t=e.children,r=e.width,c=void 0===r?"xl":r;return Object(Xe.jsx)(Ue.c,{direction:"column",boxShadow:"md",rounded:"md",bgColor:"white",p:"10",width:c,children:t})},gt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(ke.c)(),c=Object(We.a)(r,1)[0].get("redirect")||"/",s=Object(Fe.useState)(""),a=Object(We.a)(s,2),i=a[0],o=a[1],d=Object(Fe.useState)(""),l=Object(We.a)(d,2),j=l[0],u=l[1],b=Object(n.c)((function(e){return e.userLogin})),p=b.loading,h=b.error,O=b.userInfo;Object(Fe.useEffect)((function(){O&&t(c.length>1?"/".concat(c):"".concat(c))}),[t,c,O]);return Object(Xe.jsx)(Ue.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(Xe.jsxs)(ft,{children:[Object(Xe.jsx)(Ue.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Login"}),h&&Object(Xe.jsx)(it,{type:"error",children:h}),Object(Xe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(c){var n,s,a;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log(e,t),r.prev=1,c({type:k}),n={headers:{"Content-Type":"application/json"}},r.next=6,He.a.post("/api/users/login",{email:e,password:t},n);case 6:s=r.sent,a=s.data,c({type:z,payload:a}),localStorage.setItem("userInfo",JSON.stringify(a)),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(1),c({type:W,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 15:case"end":return r.stop()}}),r,null,[[1,12]])})));return function(e){return r.apply(this,arguments)}}()}(i,j))},children:[Object(Xe.jsxs)(ut.a,{id:"email",children:[Object(Xe.jsx)(ut.b,{children:"Email Address"}),Object(Xe.jsx)(xt.a,{type:"email",placeholder:"usernam@domain.com",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"password",children:[Object(Xe.jsx)(ut.b,{children:"Password"}),Object(Xe.jsx)(xt.a,{type:"password",placeholder:"**********",value:j,onChange:function(e){return u(e.target.value)}}),Object(Xe.jsx)(Ne.a,{type:"submit",isLoading:p,mt:"4",colorScheme:"teal",children:"Login"})]})]}),Object(Xe.jsx)(Ue.c,{pt:"5",children:Object(Xe.jsxs)(Ue.i,{fontWeight:"semibold",children:["New Customer?"," ",Object(Xe.jsx)(Ue.g,{as:ke.b,to:c?"/register?redirect=".concat(c):"/register",children:"Register"})]})})]})})},mt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(ke.c)(),c=Object(We.a)(r,1)[0].get("redirect")||"/",s=Object(Fe.useState)(""),a=Object(We.a)(s,2),i=a[0],o=a[1],d=Object(Fe.useState)(""),l=Object(We.a)(d,2),j=l[0],u=l[1],b=Object(Fe.useState)(""),p=Object(We.a)(b,2),h=p[0],O=p[1],x=Object(Fe.useState)(""),f=Object(We.a)(x,2),g=f[0],m=f[1],y=Object(Fe.useState)(null),v=Object(We.a)(y,2),S=v[0],E=v[1],C=Object(n.c)((function(e){return e.userRegister})),I=C.loading,w=C.error,R=C.userInfo;Object(Fe.useEffect)((function(){R&&t(c)}),[t,c,R]);return Object(Xe.jsx)(Ue.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(Xe.jsxs)(ft,{children:[Object(Xe.jsx)(Ue.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Register"}),w&&Object(Xe.jsx)(it,{type:"error",children:w}),S&&Object(Xe.jsx)(it,{type:"error",children:S}),Object(Xe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),h!==g?E("Password do not match"):e(function(e,t,r){return function(){var c=Object(Ye.a)(Ve.a.mark((function c(n){var s,a,i;return Ve.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,n({type:B}),s={headers:{"Content-Type":"application/json"}},c.next=5,He.a.post("/api/users",{name:e,email:t,password:r},s);case 5:a=c.sent,i=a.data,n({type:M,payload:i}),n({type:z,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),c.next=15;break;case 12:c.prev=12,c.t0=c.catch(0),n({type:N,payload:c.t0.response&&c.t0.response.data.message?c.t0.response.data.message:c.t0.message});case 15:case"end":return c.stop()}}),c,null,[[0,12]])})));return function(e){return c.apply(this,arguments)}}()}(i,j,h))},children:[Object(Xe.jsxs)(ut.a,{id:"name",children:[Object(Xe.jsx)(ut.b,{children:"Name"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Your full name",value:i,onChange:function(e){return o(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"email",children:[Object(Xe.jsx)(ut.b,{children:"Email Address"}),Object(Xe.jsx)(xt.a,{type:"email",placeholder:"usernam@domain.com",value:j,onChange:function(e){return u(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"password",children:[Object(Xe.jsx)(ut.b,{children:"Password"}),Object(Xe.jsx)(xt.a,{type:"password",placeholder:"**********",value:h,onChange:function(e){return O(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"confirmPassword",children:[Object(Xe.jsx)(ut.b,{children:"Confirm Password"}),Object(Xe.jsx)(xt.a,{type:"password",placeholder:"Type password again",value:g,onChange:function(e){return m(e.target.value)}})]}),Object(Xe.jsx)(Ne.a,{type:"submit",isLoading:I,mt:"4",colorScheme:"teal",children:"Register"})]}),Object(Xe.jsx)(Ue.c,{pt:"5",children:Object(Xe.jsxs)(Ue.i,{fontWeight:"semibold",children:["Have an account?"," ",Object(Xe.jsx)(Ue.g,{as:ke.b,to:c?"/login?redirect=".concat(c):"/login",children:"Login"})]})})]})})},yt=r(78),vt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(Fe.useState)(""),c=Object(We.a)(r,2),s=c[0],a=c[1],i=Object(Fe.useState)(""),o=Object(We.a)(i,2),d=o[0],l=o[1],j=Object(Fe.useState)(""),u=Object(We.a)(j,2),b=u[0],p=u[1],h=Object(Fe.useState)(""),O=Object(We.a)(h,2),x=O[0],f=O[1],g=Object(Fe.useState)(null),m=Object(We.a)(g,2),y=m[0],v=m[1],S=Object(n.c)((function(e){return e.userDetails})),E=S.loading,C=S.error,I=S.user,w=Object(n.c)((function(e){return e.userLogin})).userInfo,R=Object(n.c)((function(e){return e.userUpdateProfile})).success,_=Object(n.c)((function(e){return e.orderMyList})),A=_.loading,T=_.error,D=_.orders;Object(Fe.useEffect)((function(){w?I.name?(a(I.name),l(I.email)):(e(Ke("profile")),e(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var c,n,s,a,i;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:fe}),c=r(),n=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,He.a.get("/api/orders/myorders",s);case 6:a=e.sent,i=a.data,t({type:ge,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:me,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())):t("/login")}),[t,w,I,e]);return Object(Xe.jsxs)(Ue.d,{templateColumns:{sm:"1fr",md:"1fr 1fr"},py:"5",gap:"10",children:[Object(Xe.jsx)(Ue.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(Xe.jsxs)(ft,{children:[Object(Xe.jsx)(Ue.f,{as:"h1",mb:"8",fontSize:"3xl",children:"User Profile"}),C&&Object(Xe.jsx)(it,{type:"error",children:C}),y&&Object(Xe.jsx)(it,{type:"error",children:y}),R&&Object(Xe.jsx)(it,{type:"success",children:"Profile updated!"}),Object(Xe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),b!==x?v("Passwords do not match"):e(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a,i,o;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Y}),n=c(),s=n.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.put("/api/users/profile",e,a);case 6:i=t.sent,o=i.data,r({type:J,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:H,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({id:I._id,name:s,email:d,password:b}))},children:[Object(Xe.jsxs)(ut.a,{id:"name",children:[Object(Xe.jsx)(ut.b,{children:"Name"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter full name",value:s,onChange:function(e){return a(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"email",children:[Object(Xe.jsx)(ut.b,{children:"Email"}),Object(Xe.jsx)(xt.a,{type:"email",placeholder:"Enter email address",value:d,onChange:function(e){return l(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"password",children:[Object(Xe.jsx)(ut.b,{children:"Password"}),Object(Xe.jsx)(xt.a,{type:"password",placeholder:"Enter password",value:b,onChange:function(e){return p(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"confirmPassword",children:[Object(Xe.jsx)(ut.b,{children:"Confirm Password"}),Object(Xe.jsx)(xt.a,{type:"password",placeholder:"Enter password again",value:x,onChange:function(e){return f(e.target.value)}})]}),Object(Xe.jsx)(Ne.a,{type:"submit",isLoading:E,mt:"4",colorScheme:"teal",children:"Update"})]})]})}),Object(Xe.jsxs)(Ue.c,{direction:"column",children:[Object(Xe.jsx)(Ue.f,{as:"h2",mb:"4",children:"My Orders"}),A?Object(Xe.jsx)(dt,{}):T?Object(Xe.jsx)(it,{type:"error",children:T}):Object(Xe.jsxs)(yt.a,{variant:"striped",children:[Object(Xe.jsx)(yt.e,{children:Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.d,{children:"ID"}),Object(Xe.jsx)(yt.d,{children:"DATE"}),Object(Xe.jsx)(yt.d,{children:"TOTAL"}),Object(Xe.jsx)(yt.d,{children:"PAID"}),Object(Xe.jsx)(yt.d,{children:"DELIVERED"}),Object(Xe.jsx)(yt.d,{})]})}),Object(Xe.jsx)(yt.b,{children:D.map((function(e){return Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.c,{children:e._id}),Object(Xe.jsx)(yt.c,{children:e.createdAt.split("T")[0]}),Object(Xe.jsx)(yt.c,{children:e.totalPrice}),Object(Xe.jsx)(yt.c,{children:e.isPaid?e.paidAt.substring(0,10):Object(Xe.jsx)(Be.a,{as:Qe.k,color:"red"})}),Object(Xe.jsx)(yt.c,{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(Xe.jsx)(Be.a,{as:Qe.k,color:"red"})}),Object(Xe.jsx)(yt.c,{children:Object(Xe.jsx)(Ne.a,{as:ke.b,to:"/order/".concat(e._id),colorScheme:"teal",size:"sm",children:"Details"})})]},e._id)}))})]})]})]})},St=r(79),Et=function(e){var t=e.step1,r=e.step2,c=e.step3,n=e.step4;return Object(Xe.jsx)(Ue.c,{justifyContent:"center",mb:"8",children:Object(Xe.jsxs)(St.a,{separator:Object(Xe.jsx)(Qe.b,{color:"gray.500"}),children:[Object(Xe.jsx)(St.b,{children:t?Object(Xe.jsx)(St.c,{children:"Login"}):Object(Xe.jsx)(St.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Login"})}),Object(Xe.jsx)(St.b,{children:r?Object(Xe.jsx)(St.c,{as:ke.b,to:"/shipping",children:"Shipping"}):Object(Xe.jsx)(St.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Shipping"})}),Object(Xe.jsx)(St.b,{children:c?Object(Xe.jsx)(St.c,{as:ke.b,to:"/payment",children:"Payment"}):Object(Xe.jsx)(St.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Payment"})}),Object(Xe.jsx)(St.b,{children:n?Object(Xe.jsx)(St.c,{as:ke.b,to:"/placeorder",children:"Place Order"}):Object(Xe.jsx)(St.c,{disabled:!0,color:"gray.400",_hover:{textDecor:"none"},children:"Place Order"})})]})})},Ct=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(n.c)((function(e){return e.cart})).shippingAddress,c=Object(Fe.useState)(r.address||""),s=Object(We.a)(c,2),a=s[0],i=s[1],o=Object(Fe.useState)(r.city||""),d=Object(We.a)(o,2),l=d[0],j=d[1],u=Object(Fe.useState)(r.postalCode||""),b=Object(We.a)(u,2),p=b[0],h=b[1],O=Object(Fe.useState)(r.country||""),x=Object(We.a)(O,2),f=x[0],g=x[1];return Object(Xe.jsx)(Ue.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(Xe.jsxs)(ft,{children:[Object(Xe.jsx)(Et,{step1:!0,step2:!0}),Object(Xe.jsx)(Ue.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Shipping"}),Object(Xe.jsxs)("form",{onSubmit:function(r){var c;r.preventDefault(),e((c={address:a,city:l,postalCode:p,country:f},function(e){e({type:L,payload:c}),localStorage.setItem("shippingAddress",JSON.stringify(c))})),t("/payment")},children:[Object(Xe.jsxs)(ut.a,{id:"address",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Address"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter Address",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"city",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"City"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter City",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"postalCode",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Postal Code"}),Object(Xe.jsx)(xt.a,{type:"number",placeholder:"Enter Postal Code",value:p,onChange:function(e){return h(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"country",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Country"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter Your Country",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(Xe.jsx)(Ne.a,{type:"submit",mt:"4",colorScheme:"teal",children:"Continue"})]})]})})},It=r(80),wt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(n.c)((function(e){return e.cart})),c=r.shippingAddress,s=r.paymentMethod,a=Object(Fe.useState)(s||"paypal"),i=Object(We.a)(a,2),o=i[0],d=i[1];c||t("/shipping");return Object(Xe.jsx)(Ue.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(Xe.jsxs)(ft,{children:[Object(Xe.jsx)(Et,{step1:!0,step2:!0,step3:!0}),Object(Xe.jsx)(Ue.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Payment Method"}),Object(Xe.jsxs)("form",{onSubmit:function(r){var c;r.preventDefault(),e((c=o,function(e){e({type:U,payload:c}),localStorage.setItem("paymentMethod",JSON.stringify(c))})),t("/placeorder")},children:[Object(Xe.jsxs)(ut.a,{as:"fieldset",children:[Object(Xe.jsx)(ut.b,{as:"legend",children:"Select Method"}),Object(Xe.jsx)(It.b,{defaultValue:o,children:Object(Xe.jsx)(Ue.e,{spacing:"24px",children:Object(Xe.jsx)(It.a,{value:"paypal",onChange:function(e){return d(e.target.value)},children:"Payment or Credit/Debit card"})})})]}),Object(Xe.jsx)(Ne.a,{type:"submit",mt:"4",colorScheme:"teal",children:"Continue"})]})]})})},Rt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(n.c)((function(e){return e.cart}));r.itemsPrice=r.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),r.shippingPrice=r.itemsPrice<1e3?1e3:0,r.taxPrice=18*r.itemsPrice/100,r.totalPrice=r.itemsPrice+r.shippingPrice+r.taxPrice;var c=Object(n.c)((function(e){return e.orderCreate})),s=c.order,a=c.success,i=c.error;console.log(r.shippingAddress),console.log(r.orderItems);return Object(Fe.useEffect)((function(){a&&t("/order/".concat(s._id))}),[a]),Object(Xe.jsxs)(Ue.c,{w:"full",py:"5",direction:"column",children:[Object(Xe.jsx)(Et,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(Xe.jsxs)(Ue.d,{templateColumns:"3fr 2fr",gap:"20",children:[Object(Xe.jsxs)(Ue.c,{direction:"column",children:[Object(Xe.jsxs)(Ue.a,{borderBottom:"1px",py:"6",borderColor:"gray.300",children:[Object(Xe.jsx)(Ue.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Shipping"}),Object(Xe.jsxs)(Ue.i,{children:[Object(Xe.jsx)("strong",{children:"Address: "}),r.shippingAddress.address,", ",r.shippingAddress.city,","," ",r.shippingAddress.postalCode,", ",r.shippingAddress.country]})]}),Object(Xe.jsxs)(Ue.a,{borderBottom:"1px",py:"6",borderColor:"gray.300",children:[Object(Xe.jsx)(Ue.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Payment Method"}),Object(Xe.jsxs)(Ue.i,{children:[Object(Xe.jsx)("strong",{children:"Method: "})," ",Object(Xe.jsx)("span",{style:{textTransform:"capitalize"},children:r.paymentMethod})]})]}),Object(Xe.jsxs)(Ue.a,{borderBottom:"1px",py:"6",borderColor:"gray.300",children:[Object(Xe.jsx)(Ue.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Order Items"}),Object(Xe.jsx)(Ue.a,{children:0===r.cartItems.length?Object(Xe.jsx)(it,{children:"Your cart is empty"}):Object(Xe.jsx)(Ue.a,{py:"2",children:r.cartItems.map((function(e,t){return Object(Xe.jsxs)(Ue.c,{alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsxs)(Ue.c,{py:"2",alignItems:"center",children:[Object(Xe.jsx)(ct.a,{src:e.image,alt:e.name,w:"12",h:"12",objectFit:"cover",mr:"6"}),Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/products/".concat(e.product),fontWeight:"medium",fontSize:"xl",children:e.name})]}),Object(Xe.jsxs)(Ue.i,{fontSize:"lg",fontWeight:"semibold",children:[e.qty||1," x \u20b9",e.price," = \u20b9",(e.qty||1)*e.price]})]},t)}))})})]})]}),Object(Xe.jsxs)(Ue.c,{direction:"column",bgColor:"white",justifyContent:"space-between",py:"8",px:"8",shadow:"md",rounded:"lg",borderColor:"gray.300",children:[Object(Xe.jsxs)(Ue.a,{children:[Object(Xe.jsx)(Ue.f,{mb:"6",as:"h2",fontSize:"3xl",fontWeight:"bold",children:"Order Summary"}),Object(Xe.jsxs)(Ue.c,{borderBottom:"1px",py:"2",borderColor:"gray.200",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Items"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",r.itemsPrice]})]}),Object(Xe.jsxs)(Ue.c,{borderBottom:"1px",py:"2",borderColor:"gray.200",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Shipping"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",r.shippingPrice]})]}),Object(Xe.jsxs)(Ue.c,{borderBottom:"1px",py:"2",borderColor:"gray.200",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Tax"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",r.taxPrice]})]}),Object(Xe.jsxs)(Ue.c,{py:"2",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Total"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",color:"green.400",children:["\u20b9",r.totalPrice]})]})]}),i&&Object(Xe.jsx)(it,{type:"error",children:i}),Object(Xe.jsx)(Ne.a,{size:"lg",textTransform:"uppercase",colorScheme:"yellow",type:"button",disabled:0===r.cartItems,onClick:function(){e(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a,i,o;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:oe}),n=c(),s=n.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.post("/api/orders",e,a);case 6:i=t.sent,o=i.data,r({type:de,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:le,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({orderItems:r.cartItems,shippingAddress:r.shippingAddress,paymentMethod:r.paymentMethod,itemsPrice:r.itemsPrice,shippingPrice:r.shippingPrice,taxPrice:r.taxPrice,totalPrice:r.totalPrice}))},children:"Place Order"})]})]})]})},_t=r(87),At=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(ze.g)().id,c=Object(Fe.useState)(!1),s=Object(We.a)(c,2),a=s[0],i=s[1],o=Object(n.c)((function(e){return e.orderDetails})),d=o.order,l=o.loading,j=o.error,u=Object(n.c)((function(e){return e.orderPay})),b=u.loading,p=u.success,h=Object(n.c)((function(e){return e.orderDeliver})),O=h.loading,x=h.success,f=Object(n.c)((function(e){return e.userLogin})).userInfo;l||(d.itemsPrice=d.orderItems.reduce((function(e,t){return e+t.price*(t.qty||1)}),0)),Object(Fe.useEffect)((function(){f||t("/login");var c,n=function(){var e=Object(Ye.a)(Ve.a.mark((function e(){var t,r,c;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,He.a.get("/api/config/paypal");case 2:t=e.sent,r=t.data,(c=document.createElement("script")).type="text/javascript",c.async=!0,c.src="https://www.paypal.com/sdk/js?client-id=".concat(r),c.onload=function(){i(!0)},document.body.appendChild(c);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!d||p||x?(e({type:xe}),e({type:Re}),e((c=r,function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var n,s,a,i,o;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:je}),n=r(),s=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},e.next=6,He.a.get("/api/orders/".concat(c),a);case 6:i=e.sent,o=i.data,t({type:ue,payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:be,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()))):d.isPaid||(window.paypal?i(!0):n())}),[e,r,p,d,x,t]);return l?Object(Xe.jsx)(dt,{}):j?Object(Xe.jsx)(it,{type:"error",children:j}):Object(Xe.jsx)(Xe.Fragment,{children:Object(Xe.jsx)(Ue.c,{w:"full",py:"5",direction:"column",children:Object(Xe.jsxs)(Ue.d,{templateColumns:"3fr 2fr",gap:"20",children:[Object(Xe.jsxs)(Ue.c,{direction:"column",children:[Object(Xe.jsxs)(Ue.a,{borderBottom:"1px",py:"6",borderColor:"gray.300",children:[Object(Xe.jsx)(Ue.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Shipping"}),Object(Xe.jsxs)(Ue.i,{children:["Name: ",Object(Xe.jsx)("strong",{children:d.user.name})]}),Object(Xe.jsxs)(Ue.i,{children:["Email:"," ",Object(Xe.jsx)("strong",{children:Object(Xe.jsx)("a",{style:{textDecoration:"underline"},href:"mailto:".concat(d.user.email),children:d.user.email})})]}),Object(Xe.jsxs)(Ue.i,{children:[Object(Xe.jsx)("strong",{children:"Address: "}),d.shippingAddress.address,", ",d.shippingAddress.city,","," ",d.shippingAddress.postalCode,","," ",d.shippingAddress.country]}),Object(Xe.jsx)(Ue.i,{mt:"4",children:d.isDelivered?Object(Xe.jsxs)(it,{type:"success",children:["Delivered on ",d.deliveredAt]}):Object(Xe.jsx)(it,{type:"error",children:"Not Delivered"})})]}),Object(Xe.jsxs)(Ue.a,{borderBottom:"1px",py:"6",borderColor:"gray.300",children:[Object(Xe.jsx)(Ue.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Payment Method"}),Object(Xe.jsxs)(Ue.i,{mb:"4",children:[Object(Xe.jsx)("strong",{children:"Method: "})," ",Object(Xe.jsx)("span",{style:{textTransform:"capitalize"},children:d.paymentMethod})]}),d.isPaid?Object(Xe.jsxs)(it,{type:"success",children:["Paid on ",d.paidAt]}):Object(Xe.jsx)(it,{type:"error",children:"Not Paid"})]}),Object(Xe.jsxs)(Ue.a,{borderBottom:"1px",py:"6",borderColor:"gray.300",children:[Object(Xe.jsx)(Ue.f,{as:"h2",fontSize:"2xl",fontWeight:"semibold",mb:"3",children:"Order Items"}),Object(Xe.jsx)(Ue.a,{children:0===d.orderItems.length?Object(Xe.jsx)(it,{children:"Order is empty"}):Object(Xe.jsx)(Ue.a,{py:"2",children:d.orderItems.map((function(e,t){return Object(Xe.jsxs)(Ue.c,{alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsxs)(Ue.c,{py:"2",alignItems:"center",children:[Object(Xe.jsx)(ct.a,{src:e.image,alt:e.name,w:"12",h:"12",objectFit:"cover",mr:"6"}),Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/products/".concat(e.product),fontWeight:"medium",fontSize:"xl",children:e.name})]}),Object(Xe.jsxs)(Ue.i,{fontSize:"lg",fontWeight:"semibold",children:[e.qty||1," x \u20b9",e.price," = \u20b9",(e.qty||1)*e.price]})]},t)}))})})]})]}),Object(Xe.jsxs)(Ue.c,{direction:"column",bgColor:"white",justifyContent:"space-between",py:"8",px:"8",shadow:"md",rounded:"lg",borderColor:"gray.300",children:[Object(Xe.jsxs)(Ue.a,{children:[Object(Xe.jsx)(Ue.f,{mb:"6",as:"h2",fontSize:"3xl",fontWeight:"bold",children:"Order Summary"}),Object(Xe.jsxs)(Ue.c,{borderBottom:"1px",py:"2",borderColor:"gray.200",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Items"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",d.itemsPrice]})]}),Object(Xe.jsxs)(Ue.c,{borderBottom:"1px",py:"2",borderColor:"gray.200",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Shipping"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",d.shippingPrice]})]}),Object(Xe.jsxs)(Ue.c,{borderBottom:"1px",py:"2",borderColor:"gray.200",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Tax"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",children:["\u20b9",d.taxPrice]})]}),Object(Xe.jsxs)(Ue.c,{py:"2",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.i,{fontSize:"xl",children:"Total"}),Object(Xe.jsxs)(Ue.i,{fontWeight:"bold",fontSize:"xl",color:"green.400",children:["\u20b9",d.totalPrice]})]})]}),!d.isPaid&&Object(Xe.jsxs)(Ue.a,{children:[b&&Object(Xe.jsx)(dt,{}),a?Object(Xe.jsx)(_t.PayPalButton,{amount:d.totalPrice,onSuccess:function(t){e(function(e,t){return function(){var r=Object(Ye.a)(Ve.a.mark((function r(c,n){var s,a,i,o,d;return Ve.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,c({type:pe}),s=n(),a=s.userLogin.userInfo,i={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a.token)}},r.next=6,He.a.put("/api/orders/".concat(e,"/pay"),t,i);case 6:o=r.sent,d=o.data,c({type:he,payload:d}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),c({type:Oe,payload:r.t0.response&&r.t0.response.data.message?r.t0.response.data.message:r.t0.message});case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e,t){return r.apply(this,arguments)}}()}(r,t))}}):Object(Xe.jsx)(dt,{})]}),O&&Object(Xe.jsx)(dt,{}),f&&f.isAdmin&&d.isPaid&&!d.isDelivered&&Object(Xe.jsx)(Ne.a,{type:"button",colorScheme:"teal",onClick:function(){return e(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a,i,o;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:Ce}),n=c(),s=n.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.put("/api/orders/".concat(e._id,"/deliver"),{},a);case 6:i=t.sent,o=i.data,r({type:Ie,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:we,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}(d))},children:"Mark as delivered"})]})]})})})},Tt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(n.c)((function(e){return e.userList})),c=r.loading,s=r.error,a=r.users,i=Object(n.c)((function(e){return e.userLogin})).userInfo,o=Object(n.c)((function(e){return e.userDelete})).success;Object(Fe.useEffect)((function(){i&&i.isAdmin?e(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var c,n,s,a,i;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:X}),c=r(),n=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,He.a.get("/api/users/",s);case 6:a=e.sent,i=a.data,t({type:Z,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:$,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t("/login")}),[e,i,o]);var d=function(t){window.confirm("Are you sure?")&&e(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:te}),n=c(),s=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.delete("/api/users/".concat(e),a);case 6:r({type:re}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:ce,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ue.f,{as:"h1",fontSize:"3xl",mb:"5",children:"Users"}),c?Object(Xe.jsx)(dt,{}):s?Object(Xe.jsx)(it,{type:"error",children:s}):Object(Xe.jsx)(Ue.a,{bgColor:"white",rounded:"lg",shadow:"lg",px:"5",py:"5",children:Object(Xe.jsxs)(yt.a,{variant:"striped",colorScheme:"gray",size:"sm",children:[Object(Xe.jsx)(yt.e,{children:Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.d,{children:"ID"}),Object(Xe.jsx)(yt.d,{children:"NAME"}),Object(Xe.jsx)(yt.d,{children:"EMAIL"}),Object(Xe.jsx)(yt.d,{children:"ADMIN"}),Object(Xe.jsx)(yt.d,{})]})}),Object(Xe.jsx)(yt.b,{children:a.map((function(e){return Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.c,{children:e._id}),Object(Xe.jsx)(yt.c,{children:e.name}),Object(Xe.jsx)(yt.c,{children:Object(Xe.jsx)("a",{href:"mailto:".concat(e.email),children:e.email})}),Object(Xe.jsx)(yt.c,{children:e.isAdmin?Object(Xe.jsx)(Be.a,{as:Qe.c,color:"green.600",w:"8",h:"8"}):Object(Xe.jsx)(Be.a,{as:Qe.e,color:"red.600",w:"8",h:"8"})}),Object(Xe.jsx)(yt.c,{children:Object(Xe.jsxs)(Ue.c,{justifyContent:"flex-end",alignItems:"center",children:[Object(Xe.jsx)(Ne.a,{mr:"4",as:ke.b,to:"/admin/user/".concat(e._id,"/edit"),colorScheme:"teal",children:Object(Xe.jsx)(Be.a,{as:Qe.f,color:"white",size:"sm"})}),Object(Xe.jsx)(Ne.a,{mr:"4",colorScheme:"red",onClick:function(){return d(e._id)},children:Object(Xe.jsx)(Be.a,{as:Qe.j,color:"white",size:"sm"})})]})})]},e._id)}))})]})})]})},Dt=r(81),Pt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(ze.g)().id,c=Object(Fe.useState)(""),s=Object(We.a)(c,2),a=s[0],i=s[1],o=Object(Fe.useState)(""),d=Object(We.a)(o,2),l=d[0],j=d[1],u=Object(Fe.useState)(!1),b=Object(We.a)(u,2),p=b[0],h=b[1],O=Object(n.c)((function(e){return e.userDetails})),x=O.loading,f=O.error,g=O.user,m=Object(n.c)((function(e){return e.userUpdate})),y=m.loading,v=m.error,S=m.success;Object(Fe.useEffect)((function(){S?(e({type:ie}),t("/admin/userlist")):g.name&&g._id===r?(i(g.name),j(g.email),h(g.isAdmin)):e(Ke(r))}),[g,e,r,S,t]);return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/admin/userlist",children:"Go Back"}),Object(Xe.jsx)(Ue.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(Xe.jsxs)(ft,{children:[Object(Xe.jsx)(Ue.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Edit User"}),y&&Object(Xe.jsx)(dt,{}),v&&Object(Xe.jsx)(it,{type:"error",children:v}),x?Object(Xe.jsx)(dt,{}):f?Object(Xe.jsx)(it,{type:"error",children:f}):Object(Xe.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a,i,o;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:ne}),n=c(),s=n.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.put("/api/users/".concat(e._id),e,a);case 6:i=t.sent,o=i.data,r({type:se,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:ae,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:r,name:a,email:l,isAdmin:p}))},children:[Object(Xe.jsxs)(ut.a,{id:"name",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Name"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter full name",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"email",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Email Address"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter email address",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"isAdmin",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Is Admin?"}),Object(Xe.jsx)(Dt.a,{size:"lg",colorScheme:"teal",checked:p,onChange:function(e){return h(e.target.check)},children:"Is Admin?"})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsx)(Ne.a,{type:"submit",isLoading:x,colorScheme:"teal",mt:"4",children:"Update"})]})]})})]})},Lt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(n.c)((function(e){return e.productList})),c=r.loading,s=r.error,a=r.products,i=Object(n.c)((function(e){return e.userLogin})).userInfo,o=Object(n.c)((function(e){return e.productDelete})),d=o.loading,l=o.error,j=o.success,u=Object(n.c)((function(e){return e.productCreate})),b=u.loading,p=u.error,h=u.success,S=u.product;Object(Fe.useEffect)((function(){e({type:v}),i.isAdmin||t("/login"),h?t("/admin/product/".concat(S._id,"/edit")):e(tt())}),[e,t,i,j,h,S]);var E=function(t){window.confirm("Are you sure?")&&e(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:O}),n=c(),s=n.userLogin.userInfo,a={headers:{Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.delete("/api/products/".concat(e),a);case 6:r({type:x}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r({type:f,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,r){return t.apply(this,arguments)}}()}(t))};return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsxs)(Ue.c,{mb:"5",alignItems:"center",justifyContent:"space-between",children:[Object(Xe.jsx)(Ue.f,{as:"h1",fontSize:"3xl",mb:"5",children:"Product"}),Object(Xe.jsxs)(Ne.a,{onClick:function(){e(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var c,n,s,a,i;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:g}),c=r(),n=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,He.a.post("/api/products",{},s);case 6:a=e.sent,i=a.data,t({type:m,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:y,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}())},colorScheme:"teal",children:[Object(Xe.jsx)(Be.a,{as:Qe.a,mr:"2",fontSize:"xl",fontWeight:"bold"})," Create Product"]})]}),d&&Object(Xe.jsx)(dt,{}),l&&Object(Xe.jsx)(it,{type:"error",children:l}),b&&Object(Xe.jsx)(dt,{}),p&&Object(Xe.jsx)(it,{type:"error",children:p}),c?Object(Xe.jsx)(dt,{}):s?Object(Xe.jsx)(it,{type:"error",children:s}):Object(Xe.jsx)(Ue.a,{bgColor:"white",rounded:"lg",shadow:"lg",px:"5",py:"5",children:Object(Xe.jsxs)(yt.a,{variant:"striped",colorScheme:"gray",size:"sm",children:[Object(Xe.jsx)(yt.e,{children:Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.d,{children:"ID"}),Object(Xe.jsx)(yt.d,{children:"NAME"}),Object(Xe.jsx)(yt.d,{children:"PRICE"}),Object(Xe.jsx)(yt.d,{children:"CATEGORY"}),Object(Xe.jsx)(yt.d,{children:"BRAND"}),Object(Xe.jsx)(yt.d,{})]})}),Object(Xe.jsx)(yt.b,{children:a.map((function(e){return Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.c,{children:e._id}),Object(Xe.jsx)(yt.c,{children:e.name}),Object(Xe.jsx)(yt.c,{children:e.price}),Object(Xe.jsx)(yt.c,{children:e.category}),Object(Xe.jsx)(yt.c,{children:e.brand}),Object(Xe.jsx)(yt.c,{children:Object(Xe.jsxs)(Ue.c,{justifyContent:"flex-end",alignItems:"center",children:[Object(Xe.jsx)(Ne.a,{mr:"4",as:ke.b,to:"/admin/product/".concat(e._id,"/edit"),colorScheme:"teal",children:Object(Xe.jsx)(Be.a,{as:Qe.f,color:"white",size:"sm"})}),Object(Xe.jsx)(Ne.a,{mr:"4",colorScheme:"red",onClick:function(){return E(e._id)},children:Object(Xe.jsx)(Be.a,{as:Qe.j,color:"white",size:"sm"})})]})})]},e._id)}))})]})})]})},Ut=function(){var e=Object(ze.f)(),t=Object(n.b)(),r=Object(ze.g)().id,c=Object(Fe.useState)(""),s=Object(We.a)(c,2),a=s[0],i=s[1],o=Object(Fe.useState)(0),d=Object(We.a)(o,2),l=d[0],j=d[1],u=Object(Fe.useState)(""),b=Object(We.a)(u,2),p=b[0],h=b[1],O=Object(Fe.useState)(""),x=Object(We.a)(O,2),f=x[0],g=x[1],m=Object(Fe.useState)(""),y=Object(We.a)(m,2),v=y[0],w=y[1],R=Object(Fe.useState)(""),_=Object(We.a)(R,2),A=_[0],T=_[1],D=Object(Fe.useState)(""),P=Object(We.a)(D,2),L=P[0],U=P[1],k=Object(Fe.useState)(!1),z=Object(We.a)(k,2),W=(z[0],z[1]),F=Object(n.c)((function(e){return e.productDetails})),B=F.loading,M=F.error,N=F.product,q=Object(n.c)((function(e){return e.productUpdate})),Q=q.loading,G=q.error,V=q.success;Object(Fe.useEffect)((function(){V?(t({type:I}),e("/admin/productlist")):N.name&&N._id===r?(i(N.name),j(N.price),h(N.image),g(N.brand),w(N.category),U(N.countInStock),T(N.description)):t(rt(r))}),[t,e,r,N,V]);var Y=function(){var e=Object(Ye.a)(Ve.a.mark((function e(t){var r,c,n,s,a;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.target.files[0],(c=new FormData).append("image",r),W(!0),e.prev=4,n={headers:{"Content-Type":"multipart/form-data"}},e.next=8,He.a.post("/api/uploads",c,n);case 8:s=e.sent,a=s.data,h(a),W(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),console.error(M),W(!1);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ue.g,{as:ke.b,to:"/admin/productlist",children:"Go Back"}),Object(Xe.jsx)(Ue.c,{w:"full",alignItems:"center",justifyContent:"center",py:"5",children:Object(Xe.jsxs)(ft,{children:[Object(Xe.jsx)(Ue.f,{as:"h1",mb:"8",fontSize:"3xl",children:"Edit Product"}),Q&&Object(Xe.jsx)(dt,{}),G&&Object(Xe.jsx)(it,{type:"error",children:G}),B?Object(Xe.jsx)(dt,{}):M?Object(Xe.jsx)(it,{type:"error",children:M}):Object(Xe.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t(function(e){return function(){var t=Object(Ye.a)(Ve.a.mark((function t(r,c){var n,s,a,i,o;return Ve.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r({type:S}),n=c(),s=n.userLogin.userInfo,a={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s.token)}},t.next=6,He.a.put("/api/products/".concat(e._id),e,a);case 6:i=t.sent,o=i.data,r({type:E,payload:o}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r({type:C,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,r){return t.apply(this,arguments)}}()}({_id:r,name:a,price:l,image:p,brand:f,category:v,description:A,countInStock:L}))},children:[Object(Xe.jsxs)(ut.a,{id:"name",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Name"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter name",value:a,onChange:function(e){return i(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"price",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Price"}),Object(Xe.jsx)(xt.a,{type:"number",placeholder:"Enter price",value:l,onChange:function(e){return j(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"image",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Image"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter image url",value:p,onChange:function(e){return h(e.target.value)}}),Object(Xe.jsx)(xt.a,{type:"file",id:"image-file",onChange:Y})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"description",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Description"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter description",value:A,onChange:function(e){return T(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"brand",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Brand"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter brand",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"category",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Category"}),Object(Xe.jsx)(xt.a,{type:"text",placeholder:"Enter category",value:v,onChange:function(e){return w(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsxs)(ut.a,{id:"countInStock",isRequired:!0,children:[Object(Xe.jsx)(ut.b,{children:"Count In Stock"}),Object(Xe.jsx)(xt.a,{type:"number",placeholder:"Product in stock",value:L,onChange:function(e){return U(e.target.value)}})]}),Object(Xe.jsx)(Ue.h,{h:"3"}),Object(Xe.jsx)(Ne.a,{type:"submit",isLoading:B,colorScheme:"teal",mt:"4",children:"Update"})]})]})})]})},kt=function(){var e=Object(n.b)(),t=Object(ze.f)(),r=Object(n.c)((function(e){return e.orderList})),c=r.loading,s=r.error,a=r.orders,i=Object(n.c)((function(e){return e.userLogin})).userInfo;return Object(Fe.useEffect)((function(){i&&i.isAdmin?e(function(){var e=Object(Ye.a)(Ve.a.mark((function e(t,r){var c,n,s,a,i;return Ve.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ve}),c=r(),n=c.userLogin.userInfo,s={headers:{Authorization:"Bearer ".concat(n.token)}},e.next=6,He.a.get("/api/orders",s);case 6:a=e.sent,i=a.data,t({type:Se,payload:i}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:Ee,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,r){return e.apply(this,arguments)}}()):t("/login")}),[e,i]),Object(Xe.jsxs)(Xe.Fragment,{children:[Object(Xe.jsx)(Ue.f,{as:"h1",fontSize:"3xl",mb:"5",children:"Orders"}),c?Object(Xe.jsx)(dt,{}):s?Object(Xe.jsx)(it,{type:"error",children:s}):Object(Xe.jsx)(Ue.a,{bgColor:"white",rounded:"lg",shadow:"lg",px:"5",py:"5",children:Object(Xe.jsxs)(yt.a,{variant:"striped",colorScheme:"gray",size:"sm",children:[Object(Xe.jsx)(yt.e,{children:Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.d,{children:"ID"}),Object(Xe.jsx)(yt.d,{children:"USER"}),Object(Xe.jsx)(yt.d,{children:"DATE"}),Object(Xe.jsx)(yt.d,{children:"TOTAL PRICE"}),Object(Xe.jsx)(yt.d,{children:"PAID"}),Object(Xe.jsx)(yt.d,{children:"DELIVERED"}),Object(Xe.jsx)(yt.d,{})]})}),Object(Xe.jsx)(yt.b,{children:a.map((function(e){return Object(Xe.jsxs)(yt.f,{children:[Object(Xe.jsx)(yt.c,{children:e._id}),Object(Xe.jsx)(yt.c,{children:e.user&&e.user.name}),Object(Xe.jsx)(yt.c,{children:e.createdAt.substring(0,10)}),Object(Xe.jsxs)(yt.c,{children:["\u20b9",e.totalPrice]}),Object(Xe.jsx)(yt.c,{children:e.isPaid?e.paidAt.substring(0,10):Object(Xe.jsx)(Be.a,{as:Qe.e,color:"red.600",w:"8",h:"8"})}),Object(Xe.jsx)(yt.c,{children:e.isDelivered?e.deliveredAt.substring(0,10):Object(Xe.jsx)(Be.a,{as:Qe.e,color:"red.600",w:"8",h:"8"})}),Object(Xe.jsx)(yt.c,{children:Object(Xe.jsx)(Ue.c,{justifyContent:"flex-end",alignItems:"center",children:Object(Xe.jsx)(Ne.a,{mr:"4",as:ke.b,to:"/order/".concat(e._id),colorScheme:"teal",children:"Details"})})})]},e._id)}))})]})})]})},zt=function(){return Object(Xe.jsxs)(ke.a,{children:[Object(Xe.jsx)($e,{}),Object(Xe.jsx)(Ue.c,{as:"main",direction:"column",mt:"72px",minH:"xl",py:"6",px:"6",bgColor:"gray.200",children:Object(Xe.jsxs)(ze.c,{children:[Object(Xe.jsx)(ze.a,{path:"/",element:Object(Xe.jsx)(lt,{})}),Object(Xe.jsx)(ze.a,{path:"/product/:id",element:Object(Xe.jsx)(pt,{})}),Object(Xe.jsx)(ze.a,{path:"/cart/:id",element:Object(Xe.jsx)(Ot,{})}),Object(Xe.jsx)(ze.a,{path:"/cart",element:Object(Xe.jsx)(Ot,{})}),Object(Xe.jsx)(ze.a,{path:"/login",element:Object(Xe.jsx)(gt,{})}),Object(Xe.jsx)(ze.a,{path:"/register",element:Object(Xe.jsx)(mt,{})}),Object(Xe.jsx)(ze.a,{path:"/profile",element:Object(Xe.jsx)(vt,{})}),Object(Xe.jsx)(ze.a,{path:"/shipping",element:Object(Xe.jsx)(Ct,{})}),Object(Xe.jsx)(ze.a,{path:"/payment",element:Object(Xe.jsx)(wt,{})}),Object(Xe.jsx)(ze.a,{path:"/placeorder",element:Object(Xe.jsx)(Rt,{})}),Object(Xe.jsx)(ze.a,{path:"/order/:id",element:Object(Xe.jsx)(At,{})}),Object(Xe.jsx)(ze.a,{path:"/admin/userlist",element:Object(Xe.jsx)(Tt,{})}),Object(Xe.jsx)(ze.a,{path:"/admin/user/:id/edit",element:Object(Xe.jsx)(Pt,{})}),Object(Xe.jsx)(ze.a,{path:"/admin/productlist",element:Object(Xe.jsx)(Lt,{})}),Object(Xe.jsx)(ze.a,{path:"/admin/product/:id/edit",element:Object(Xe.jsx)(Ut,{})}),Object(Xe.jsx)(ze.a,{path:"/admin/orderlist",element:Object(Xe.jsx)(kt,{})})]})}),Object(Xe.jsx)(et,{})]})};Object(c.render)(Object(Xe.jsx)(n.a,{store:Le,children:Object(Xe.jsx)(s.a,{children:Object(Xe.jsx)(zt,{})})}),document.querySelector("#root"))}},[[146,1,2]]]);
//# sourceMappingURL=main.e1d712cf.chunk.js.map